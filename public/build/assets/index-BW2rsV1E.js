var B=Object.defineProperty;var M=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var p=(e,t,n)=>M(e,typeof t!="symbol"?t+"":t,n);import{x as L,k as S,j as $,l as W,W as q,h as I,f as J,o as T}from"./app-u2Np7Bca.js";/**
 * Vue Number Format 3.34.1
 * (c) 2021-2024 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var y={prefix:"",suffix:"",separator:",",decimal:".",inputmode:"numeric",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};function _(e){return t=0,n=e,r=20,Math.max(t,Math.min(n,r));var t,n,r}class F{constructor(t){p(this,"options");p(this,"input");p(this,"number");p(this,"isClean");p(this,"isCustomDecimal");p(this,"noPreSuffix");p(this,"hasPreOrSuffix");p(this,"prefix");p(this,"preSufRegExp");p(this,"prefixRegExp");p(this,"suffixRegExp");p(this,"numberRegExp");p(this,"cleanRegExp");p(this,"negativeRegExp");this.options=Object.assign(w(y),t);const{prefix:n,suffix:r,decimal:l,reverseFill:a}=this.options;this.input="",this.number="",this.isClean=!a;const u=n,i=r,o=u.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");o&&(this.prefixRegExp=new RegExp(`^${o}`)),s&&(this.suffixRegExp=new RegExp(`${s}$`)),this.prefix=n,this.numberRegExp=new RegExp(`[^0-9\\${l}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isCustomDecimal=l!==".",this.noPreSuffix=!u&&!i,this.hasPreOrSuffix=!this.noPreSuffix}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(t=!1){return this.isClean=t,this}sign(){if(this.input===null||this.input===void 0)return"";const t=this.input.toString().indexOf(v)>=0;return this.isClean?t&&this.realNumber()>0?v:"":t?v:""}toFixed(){const t=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/t||0).toFixed(_(this.options.precision))}toNumber(t){return Number(t)}numberOnly(t){var r;let n=(r=this.input)==null?void 0:r.toString();return this.prefixRegExp&&(n=n.replace(this.prefixRegExp,"")),this.suffixRegExp&&(n=n.replace(this.suffixRegExp,"")),n.replace(t||this.numberRegExp,"")}inputWithPreOrSuffix(){return this.input&&this.prefixRegExp?this.prefixRegExp.test(this.input.toString()):!this.input||!this.suffixRegExp||this.suffixRegExp.test(this.input.toString())}isNegative(){return this.sign()===v}isNumber(t){return!isNaN(this.toNumber(t||this.input))}numbers(){var l;const{reverseFill:t,decimal:n,separator:r}=this.options;if(t)this.number=this.toFixed().replace(".",n);else{const a=(l=this.input)==null?void 0:l.toString().replace(this.prefixRegExp??"","").replace(this.suffixRegExp??"","").replace(new RegExp(v,"g"),""),u=this.input.toString().indexOf(n)>=0&&this.isCustomDecimal,i=a.replace(new RegExp(`\\${r}`,"g"),"").replace(n,".");typeof this.input=="number"||this.isNumber()&&!u&&!this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(a,".").join(n):this.isNumber(i)&&!u&&this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(i,".").join(n):this.number=this.parts(this.numberOnly()).join(n)}return this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(t,n){const{precision:r,minimumFractionDigits:l,decimal:a}=this.options;let u=t.toString().split(n||a);if(u.length>1&&(u[0]=this.toNumber(u[0])||0,u[1]=u.slice(1,u.length).join(""),u=u.slice(0,2)),this.isClean){const i=this.toNumber(u.join(".")).toFixed(r),o=this.toNumber(i),s=o.toFixed(l);u=l>=0&&o.toString().length<s.length?s.toString().split("."):o.toString().split(".")}return u.slice(0,2)}addSeparator(){const{decimal:t,separator:n}=this.options,r=this.numbers().split(t);return r[0]=r[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${n}`),r.join(t)}format(t){this.input=t;const{reverseFill:n,nullValue:r,prefix:l,suffix:a}=this.options;return this.isNull()&&!n?r:this.sign()+l+this.addSeparator()+a}unformat(t){this.input=t;const{reverseFill:n,nullValue:r}=this.options,l=this.realNumber(),a=this.unformatNumber();return this.isNull()||n&&l===0?r:this.sign()+a}}const v="-";function w(e){return JSON.parse(JSON.stringify(e))}function R(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function N(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("number directive requires an input element");return t}function k(e,t){const n=()=>{e.setSelectionRange(t,t)};n(),setTimeout(n,1)}function E(e,t,{emit:n=!0,force:r=!1,clean:l=!1}={}){var c;const{options:a,oldValue:u}=e,{reverseFill:i,max:o,min:s}=a,f=((c=t==null?void 0:t.props)==null?void 0:c.value)||e.value;if(r||u!==f){const h=new F(a).clean(l&&!i);let g=h.format(f),d=h.clean(!i).unformat(f);l&&(Number(o)===o&&Number(d)>o?(g=h.format(o),d=o.toString()):Number(s)===s&&Number(d)<s&&(g=h.format(s),d=s.toString())),e.oldValue=g,e.unmasked=d,e.value!==g&&(e.value=g)}return n&&e.dispatchEvent(R("input"))}var A={beforeMount:(e,{value:t,modifiers:n},r)=>{var s;e=N(e);const l=Object.assign(w(y),t,n),{reverseFill:a,precision:u,decimal:i,inputmode:o}=l;e.options=l,e.setAttribute("inputmode",o),a&&e.value?(e.value=parseFloat(new F({...l,reverseFill:!1}).unformat(e.value)).toFixed(u),(s=r==null?void 0:r.props)!=null&&s.value&&(r.props.value=e.value)):e.value&&!isNaN(Number(e.value))&&(e.value=e.value.replace(".",i)),E(e,r,{force:l.prefill,clean:!0,emit:!1})},mounted:e=>{const t=(e=N(e)).parentElement||e,n=a=>{a.target===e&&function(u){const{target:i,detail:o}=u;if(o!=null&&o.facade)return!1;u.stopPropagation();let s=i.value.length;const{oldValue:f,options:c}=i;i.selectionEnd&&(s=i.value.length-i.selectionEnd),E(i,null,{clean:!c.precision,emit:!1}),c.suffix&&(s=Math.max(s,c.suffix.length)),s=i.value.length-s,c.prefix&&(s=Math.max(s,c.prefix.length)),k(i,s),f!==i.value&&i.dispatchEvent(R("input"))}(a)},r=a=>{a.target===e&&function(u){const{target:i}=u,{oldValue:o}=i;E(i,null,{force:!0,clean:!0,emit:!1}),o!==i.value&&i.dispatchEvent(R("input"))}(a)},l=a=>{a.target===e&&function(u,i){const{options:o}=i,{prefix:s,suffix:f,decimal:c,min:h,separator:g}=o,{key:d}=u,C=new RegExp(`${s}|${f}`,"g"),O=i.value.replace(C,""),P=h===void 0||Number(h)<0||Number(h)!==h;if(d===c)O.includes(c)?u.preventDefault():O||(i.value="0",i.dispatchEvent(new Event("input")));else if(d!==v||P){if(d==="Backspace"){const b=i.selectionEnd||0,V=i.value.slice(b-1,b),j=i.value.slice(b-2,b);let x=i.value.length-b;[s,v,g].includes(V)&&(u.preventDefault(),i.value=V===g?i.value.replace(j,""):i.value.replace(new RegExp(`[${s}${v}]`,"g"),""),x=Math.max(x,f.length),x=i.value.length-x,x=Math.max(x,s.length),k(i,x),i.dispatchEvent(new Event("input")))}}else u.preventDefault()}(a,e)};t.addEventListener("input",n,!0),t.addEventListener("blur",r,!0),t.addEventListener("keydown",l,!0),e.cleanup=()=>{t.removeEventListener("input",n,!0),t.removeEventListener("blur",r,!0),t.removeEventListener("keydown",l,!0)}},updated:(e,{value:t,oldValue:n,modifiers:r},l)=>{if(e=N(e),t!==n){const a=e.options;e.options=Object.assign(a,t,r),E(e,l,{force:!0,clean:!1,emit:!1})}else E(e,l,{emit:!1})},unmounted:e=>{var t;(t=N(e))==null||t.cleanup()}};const m=w(y);var D=L({name:"VueNumber",directives:{number:A},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:m.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:m.reverseFill},prefill:{type:Boolean,default:m.prefill},precision:{type:Number,default:()=>m.precision},minimumFractionDigits:{type:Number,default:()=>m.minimumFractionDigits},decimal:{type:String,default:()=>m.decimal},min:{type:Number,default:()=>m.min},max:{type:Number,default:()=>m.max},separator:{type:String,default:()=>m.separator},prefix:{type:String,default:()=>m.prefix},suffix:{type:String,default:()=>m.suffix},inputmode:{type:String,default:()=>m.inputmode}},emits:["update:model-value","input:model-value"],setup(e,{emit:t}){const n=S(e.modelValue),r=S(!1),l=S(""),a=$(()=>({...e})),u=new F(a.value),i=$(()=>e.masked?u.format(n.value):l.value),o=()=>{t("update:model-value",i.value)};return W(()=>e.modelValue,s=>{i.value!=s&&(n.value=u.format(s))}),{config:a,maskedValue:n,unmaskedValue:l,input:s=>{const{target:f}=s;n.value=f.value,l.value=f.unmasked,r.value=!0,t("input:model-value",i.value)},blur:()=>{r.value&&i.value!==e.modelValue&&o()},change:o}}});const H=["value","readonly","disabled"];D.render=function(e,t,n,r,l,a){const u=q("number");return I((T(),J("input",{type:"text",autocomplete:"off",value:e.maskedValue,readonly:e.readonly,disabled:e.disabled,class:"v-number vue-number-format",onChange:t[0]||(t[0]=(...i)=>e.change&&e.change(...i)),onInput:t[1]||(t[1]=(...i)=>e.input&&e.input(...i)),onBlur:t[2]||(t[2]=(...i)=>e.blur&&e.blur(...i))},null,40,H)),[[u,e.config]])},D.__file="src/component.vue";export{D as b};
