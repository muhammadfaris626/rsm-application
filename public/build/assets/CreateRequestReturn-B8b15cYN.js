import{T as q,k as V,l as N,f as n,o as u,a as l,u as r,Z as A,w as g,b as e,e as h,i as x,d as R,g as _,F as v,s as B,t as U}from"./app-u2Np7Bca.js";import{_ as P}from"./AuthenticatedLayout-CyzdcIiF.js";import{_ as p}from"./InputLabel-BITUvn14.js";import{_ as b}from"./InputError-BrNOI4E1.js";import{_ as i}from"./TextInput-Ab--07a-.js";import{s as k}from"./vue-multiselect.esm-qU12joe5.js";/* empty css                                                                 */const T={class:"grid grid-cols-1 h-full"},M={class:"pb-4 border-b-2 border-dashed dark:border-gray-700"},S={class:"flex","aria-label":"Breadcrumb"},C={class:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse"},E={class:"flex items-center"},J={class:"pt-4"},$={class:"grid grid-cols-4 gap-2 mt-2 bg-white pt-4 pb-6 px-4 rounded-xl"},O={key:0,class:"text-xl font-semibold text-blue-600 my-2"},H={key:1,class:"bg-white pt-4 pb-6 px-4 rounded-xl"},I={class:"text-slate-800 flex w-full items-center rounded-md p-2 pl-3 transition-all"},L={class:"mr-10 text-lg font-semibold text-center"},j={class:"grid grid-cols-5 gap-2 w-full"},F={class:"col-span-2"},G={class:"mt-6"},Y={__name:"CreateRequestReturn",props:{requestNumber:{type:String,required:!0},requestOrders:{type:Array,required:!0},branches:{type:Array,required:!0}},setup(w){const f=w,s=q({request_order_id:"",branch_id:"",request_number:f.requestNumber,date:""}),m=V([]);N(()=>s.request_order_id,o=>{o!=null&&o.branch_product?m.value=o.branch_product.map(t=>({...t,total_return:t.total_return??""})):m.value=[]},{deep:!0,immediate:!0});const y=()=>{let o=!0;m.value.forEach(t=>{t.total_return?t.total_return>t.quantity&&(alert(`Jumlah return untuk ${t.product.product_name} tidak boleh lebih dari sisa stok!`),o=!1):(alert(`Jumlah return untuk ${t.product.product_name} harus diisi!. Jika tidak ingin return silahkan isi angka 0.`),o=!1)}),o&&s.post(route("requestReturns.store"),{onSuccess:()=>{s.reset(),s.clearErrors()}})};return(o,t)=>(u(),n(v,null,[l(r(A),{title:"Tambah Permintaan Pesanan"}),l(P,null,{default:g(()=>[e("div",T,[e("div",M,[e("nav",S,[e("ol",C,[t[6]||(t[6]=e("li",{class:"inline-flex items-center"},[e("a",{href:"#",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-1 flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})]),h(" Produk ")])],-1)),e("li",null,[e("div",E,[t[5]||(t[5]=e("svg",{class:"rtl:rotate-180 w-3 h-3 text-gray-400 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1)),l(r(x),{href:o.route("requestReturns.index"),class:"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white"},{default:g(()=>t[4]||(t[4]=[h("Permintaan Return")])),_:1},8,["href"])])]),t[7]||(t[7]=e("li",{"aria-current":"page"},[e("div",{class:"flex items-center"},[e("svg",{class:"rtl:rotate-180 w-3 h-3 text-gray-400 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})]),e("span",{class:"ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400"},"Tambah Permintaan Return")])],-1))])])]),e("div",J,[t[11]||(t[11]=e("h1",{class:"text-xl font-semibold text-blue-600"},"TAMBAH PERMINTAAN RETURN",-1)),e("form",{onSubmit:R(y,["prevent"])},[e("div",$,[e("div",null,[l(p,{for:"request_number",value:"Nomor Permintaan"}),l(i,{id:"request_number",type:"text",class:"mt-1 block w-full bg-slate-300",modelValue:r(s).request_number,"onUpdate:modelValue":t[0]||(t[0]=a=>r(s).request_number=a),disabled:""},null,8,["modelValue"]),l(b,{class:"mt-2",message:r(s).errors.request_number},null,8,["message"])]),e("div",null,[l(p,{for:"request_order_id",value:"Nomor RO"}),l(r(k),{modelValue:r(s).request_order_id,"onUpdate:modelValue":t[1]||(t[1]=a=>r(s).request_order_id=a),options:f.requestOrders,"close-on-select":!0,placeholder:"Pilih",label:"ro_number","track-by":"id"},null,8,["modelValue","options"]),l(b,{class:"mt-2",message:r(s).errors.request_order_id},null,8,["message"])]),e("div",null,[l(p,{for:"branch_id",value:"Cabang"}),l(r(k),{modelValue:r(s).branch_id,"onUpdate:modelValue":t[2]||(t[2]=a=>r(s).branch_id=a),options:f.branches,"close-on-select":!0,placeholder:"Pilih",label:"branch_name","track-by":"id"},null,8,["modelValue","options"]),l(b,{class:"mt-2",message:r(s).errors.branch_id},null,8,["message"])]),e("div",null,[l(p,{for:"date",value:"Tanggal"}),l(i,{id:"date",type:"date",class:"mt-1 block w-full",modelValue:r(s).date,"onUpdate:modelValue":t[3]||(t[3]=a=>r(s).date=a)},null,8,["modelValue"]),l(b,{class:"mt-2",message:r(s).errors.date},null,8,["message"])])]),r(s).request_order_id!=""?(u(),n("h1",O,"BARANG")):_("",!0),r(s).request_order_id!=""?(u(),n("div",H,[t[8]||(t[8]=e("div",{class:"text-slate-800 flex w-full items-center rounded-md p-2 pl-3 transition-all"},[e("h1",{class:"mr-10 text-md font-semibold text-center"},"NO"),e("div",{class:"grid grid-cols-5 gap-2 w-full text-center"},[e("div",{class:"col-span-2"},[e("h1",{class:"mr-5 text-md font-semibold text-center"},"NAMA BARANG")]),e("div",null,[e("h1",{class:"mr-5 text-md font-semibold text-center"},"SISA STOK")]),e("div",null,[e("h1",{class:"mr-5 text-md font-semibold text-center"},"JUMLAH RETURN")])])],-1)),(u(!0),n(v,null,B(m.value,(a,c)=>(u(),n("div",{key:c},[e("div",I,[e("h1",L,U(c+1)+".",1),e("div",j,[e("div",F,[l(i,{type:"text",class:"block w-full bg-slate-300",placeholder:"Jumlah Barang",modelValue:a.product.product_name,"onUpdate:modelValue":d=>a.product.product_name=d,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",null,[l(i,{type:"text",class:"block w-full bg-slate-300 text-center",placeholder:"Jumlah Barang",modelValue:a.quantity,"onUpdate:modelValue":d=>a.quantity=d,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",null,[l(i,{type:"text",class:"block w-full bg-white text-center",placeholder:"Jumlah Barang",modelValue:r(s).request_order_id.branch_product[c].total_return,"onUpdate:modelValue":d=>r(s).request_order_id.branch_product[c].total_return=d},null,8,["modelValue","onUpdate:modelValue"])])])])]))),128))])):_("",!0),e("div",G,[t[10]||(t[10]=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"SIMPAN",-1)),l(r(x),{href:o.route("requestReturns.index"),class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 focus:outline-none dark:focus:ring-red-800"},{default:g(()=>t[9]||(t[9]=[h("KEMBALI")])),_:1},8,["href"])])],32)])])]),_:1})],64))}};export{Y as default};
