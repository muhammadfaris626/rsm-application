import{_ as E}from"./AuthenticatedLayout-DYQjtwYe.js";import{T as S,j as N,o as n,f as d,a as x,u as C,w as I,F as g,Q as A,Z as D,b as t,t as s,g as _,p as y,A as m,n as w}from"./app-BqzU3v1C.js";import"./toast-s2dejMsm.js";const R={class:"grid grid-cols-1 gap-4"},O={key:0,id:"static-modal",tabindex:"-1","aria-hidden":"false",class:"fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-gray-900 bg-opacity-50"},L={class:"relative p-4 w-full max-w-2xl max-h-full"},$={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},U={class:"p-4 md:p-5 space-y-4"},H={class:"text-center text-3xl font-bold"},q={class:"text-center text-8xl font-extrabold"},P={class:"flex items-center justify-center border-b-2 border-dashed pb-4"},M={class:"items-center space-y-4 sm:flex sm:space-x-8 sm:space-y-0 rtl:space-x-reverse"},j=["innerHTML"],B={key:1,class:"grid grid-cols-4 gap-4"},K={class:"col-start-2 col-span-2"},Q=t("h1",{class:"text-xl mb-4 text-center font-bold"},"ATTENDANCE ENTRY",-1),G={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse border-2 rounded-lg"},Y={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},V=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," DATE ",-1),z={class:"px-2 py-2"},F={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},J=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," START TRAINING ",-1),X={class:"px-2 py-2"},Z={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},W=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," END TRAINING ",-1),tt={class:"px-2 py-2"},et={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},st=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," CHECK IN ",-1),ot={class:"px-2 py-2"},rt={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},at=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," CHECK OUT ",-1),nt={class:"px-2 py-2"},dt={class:"col-start-2 col-span-2"},ct={key:2,class:"grid grid-cols-4 gap-4"},it={key:0,class:"text-center mt-4 col-start-2 col-span-2"},lt=t("div",{class:"flex justify-center items-center"},[t("img",{src:"/images/loading.gif"})],-1),ht=t("div",{class:"text-center pb-10"},[t("h1",{class:"text-blue-700 text-3xl"}," Please wait, the question is being processed ")],-1),gt=[lt,ht],bt={key:1,class:"col-start-2 col-span-2"},pt=t("h1",{class:"text-xl mb-4 text-center font-bold"},"PRE TEST",-1),ut={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse border-2 rounded-lg"},xt={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},_t=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," COURSE NAME ",-1),yt={class:"px-2 py-2"},mt={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},wt=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," TITLE ",-1),kt={class:"px-2 py-2"},ft={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},vt=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," QUESTION TYPE ",-1),Tt={class:"px-2 py-2"},Et={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},St=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," DURATION / QUESTION ",-1),Nt={class:"px-2 py-2"},Ct={class:"m-2"},It={style:{"white-space":"pre-line"}},At={key:3,class:"grid grid-cols-2 gap-4"},Dt={class:"text-md font-bold text-black border-b-2 px-4 py-2 uppercase"},Rt={class:"relative overflow-x-auto px-4 my-2"},Ot={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse border-2 rounded-lg"},Lt={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},$t=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," COURSE NAME ",-1),Ut={class:"px-2 py-2 text-right"},Ht={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},qt=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," LESSON TYPE ",-1),Pt={class:"px-2 py-2 text-right"},Mt={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},jt=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," DURATION PER SLIDE ",-1),Bt={class:"px-2 py-2 text-right"},Kt=t("h5",{class:"text-md font-bold text-black py-2"},"Description :",-1),Qt={style:{"white-space":"pre-line"}},Gt=["onClick"],Yt={key:4,class:"grid grid-cols-4 gap-4"},Vt={key:0,class:"text-center mt-4 col-start-2 col-span-2"},zt=t("div",{class:"flex justify-center items-center"},[t("img",{src:"/images/loading.gif"})],-1),Ft=t("div",{class:"text-center pb-10"},[t("h1",{class:"text-blue-700 text-3xl"}," Please wait, the question is being processed ")],-1),Jt=[zt,Ft],Xt={key:1,class:"col-start-2 col-span-2"},Zt=t("h1",{class:"text-xl mb-4 text-center font-bold"},"POST TEST",-1),Wt={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse border-2 rounded-lg"},te={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},ee=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," COURSE NAME ",-1),se={class:"px-2 py-2"},oe={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},re=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," TITLE ",-1),ae={class:"px-2 py-2"},ne={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},de=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," QUESTION TYPE ",-1),ce={class:"px-2 py-2"},ie={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},le=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," DURATION / QUESTION ",-1),he={class:"px-2 py-2"},ge={class:"m-2"},be={style:{"white-space":"pre-line"}},pe={key:5,class:"grid grid-cols-4 gap-4"},ue={class:"col-start-2 col-span-2"},xe=t("h1",{class:"text-xl mb-4 text-center font-bold"},"ATTENDANCE ENTRY",-1),_e={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse border-2 rounded-lg"},ye={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},me=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," DATE ",-1),we={class:"px-2 py-2"},ke={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},fe=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," START TRAINING ",-1),ve={class:"px-2 py-2"},Te={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Ee=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," END TRAINING ",-1),Se={class:"px-2 py-2"},Ne={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Ce=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," CHECK IN ",-1),Ie={class:"px-2 py-2"},Ae={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},De=t("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," CHECK OUT ",-1),Re={class:"px-2 py-2"},Oe={class:"col-start-2 col-span-2"},Le={key:6},$e=t("div",{class:"text-center font-bold uppercase text-3xl p-10"}," Congratulations you have completed the training ",-1),Ue=[$e],Me={__name:"StartTraining",props:["course","attendance","data","test","lesson"],setup(e){const h=S({});function b(a){const r={year:"numeric",month:"long",day:"numeric"};return new Date(a).toLocaleDateString("en-GB",r)}function l(a){const r=new Date(a),o=String(r.getHours()).padStart(2,"0"),c=String(r.getMinutes()).padStart(2,"0"),T=String(r.getSeconds()).padStart(2,"0");return`${o}:${c}:${T}`}const p=(a,r)=>{h.get(route("trainings.checkAttendance",{id:a,status:r}))},i=N(!1),u=async(a,r)=>{const o=`https://bbm-e-learning.test/api/question/${a}`;i.value=!0;try{const c=await m.get(o);localStorage.setItem("response-number",1),localStorage.setItem("response-question",JSON.stringify(c.data.responseQuestion)),localStorage.setItem("response-course",c.data.responseCourse),localStorage.setItem("response-duration",c.data.responseDuration),setTimeout(()=>{i.value=!1,h.get(route("trainings.changeTraining",{id:a,type:r}))},1e3)}catch(c){console.error("Error fetching data:",c),i.value=!1}},k=()=>{document.getElementById("static-modal").classList.add("hidden")},f=async(a,r)=>{const o=`https://bbm-e-learning.test/api/lesson/${r}`;i.value=!0;try{const c=await m.get(o);localStorage.setItem("response-lesson",c.data.responseLesson),localStorage.setItem("response-page",1),localStorage.setItem("response-duration",c.data.responseDuration),setTimeout(()=>{i.value=!1,h.get(route("trainings.startLesson",{course:a,lesson:r}))},1e3)}catch(c){console.error("Error fetching data:",c),i.value=!1}};function v(a){return A().props.data.find(r=>r.name===a)}return console.log(v("Lesson")),(a,r)=>(n(),d(g,null,[x(C(D),{title:"Start Trainings"}),x(E,null,{default:I(()=>[t("div",R,[a.$page.props.modalAlert.modalData!=null?(n(),d("div",O,[t("div",L,[t("div",$,[t("div",U,[t("p",H,s(a.$page.props.modalAlert.modalData.title),1),t("p",q,s(a.$page.props.modalAlert.modalData.nilai),1)]),t("div",{class:"text-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},[t("button",{onClick:k,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"NEXT")])])])])):_("",!0),t("div",P,[t("ol",M,[(n(!0),d(g,null,y(e.data,o=>(n(),d("li",{key:o,class:"flex items-center text-gray-500 dark:text-gray-400 space-x-2.5 rtl:space-x-reverse"},[t("span",{class:w(["flex items-center justify-center w-8 h-8 rounded-full shrink-0",o.status])},[t("p",{innerHTML:o.nomor},null,8,j)],2),t("span",null,[t("h3",{class:w(["font-medium leading-tight",o["text-status"]])},s(o.name),3)])]))),128))])]),e.attendance.check_in=="0"?(n(),d("div",B,[t("div",K,[Q,t("table",G,[t("tbody",null,[t("tr",Y,[V,t("td",z,s(b(e.course.start_time)),1)]),t("tr",F,[J,t("td",X,s(l(e.course.start_time)),1)]),t("tr",Z,[W,t("td",tt,s(l(e.course.end_time)),1)]),t("tr",et,[st,t("td",ot,s(e.attendance.check_in==="0"?"Empty":e.attendance.check_in),1)]),t("tr",rt,[at,t("td",nt,s(e.attendance.check_out==="0"?"Empty":e.attendance.check_out),1)])])])]),t("div",dt,[t("button",{onClick:r[0]||(r[0]=o=>p(e.course.id,"in")),type:"button",class:"bg-green-600 text-center hover:bg-green-500 rounded-lg text-white text-md block w-full py-2 font-bold"}," CHECK IN ")])])):e.attendance.pretest==1?(n(),d("div",ct,[i.value?(n(),d("div",it,gt)):(n(),d("div",bt,[t("div",null,[pt,t("table",ut,[t("tbody",null,[t("tr",xt,[_t,t("td",yt,s(e.test[0].course_id.course_name),1)]),t("tr",mt,[wt,t("td",kt,s(e.test[0].title),1)]),t("tr",ft,[vt,t("td",Tt,s(e.test[0].question_type),1)]),t("tr",Et,[St,t("td",Nt,s(e.test[0].duration_per_question)+" Seconds ",1)])])]),t("div",Ct,[t("pre",It,"                                "+s(e.test[0].description)+`
                            `,1)])]),t("div",null,[t("button",{onClick:r[1]||(r[1]=o=>u(e.course.id,"pretest")),type:"button",class:"bg-green-600 text-center hover:bg-green-500 rounded-lg text-white text-md block w-full py-2 font-bold"}," START TEST ")])]))])):e.attendance.course==0?(n(),d("div",At,[(n(!0),d(g,null,y(e.lesson,o=>(n(),d("div",{key:o.id,class:"border-gray-200 border-2"},[t("h5",Dt,s(o.title),1),t("div",Rt,[t("table",Ot,[t("tbody",null,[t("tr",Lt,[$t,t("td",Ut,s(o.course_id.course_name),1)]),t("tr",Ht,[qt,t("td",Pt,s(o.lesson_type),1)]),t("tr",Mt,[jt,t("td",Bt,s(o.duration_per_slide)+" Minutes ",1)])])]),t("div",null,[Kt,t("pre",Qt,"                                "+s(o.description)+`
                            `,1)])]),t("div",null,[t("button",{onClick:c=>f(o.course_id.id,o.id),type:"button",class:"bg-green-600 text-center hover:bg-green-500 border-t-2 text-white text-md block w-full py-2 font-bold"}," START LESSON ",8,Gt)])]))),128))])):e.attendance.posttest==1?(n(),d("div",Yt,[i.value?(n(),d("div",Vt,Jt)):(n(),d("div",Xt,[t("div",null,[Zt,t("table",Wt,[t("tbody",null,[t("tr",te,[ee,t("td",se,s(e.test[0].course_id.course_name),1)]),t("tr",oe,[re,t("td",ae,s(e.test[0].title),1)]),t("tr",ne,[de,t("td",ce,s(e.test[0].question_type),1)]),t("tr",ie,[le,t("td",he,s(e.test[0].duration_per_question)+" Seconds ",1)])])]),t("div",ge,[t("pre",be,"                                "+s(e.test[0].description)+`
                            `,1)])]),t("div",null,[t("button",{onClick:r[2]||(r[2]=o=>u(e.course.id,"pretest")),type:"button",class:"bg-green-600 text-center hover:bg-green-500 rounded-lg text-white text-md block w-full py-2 font-bold"}," START TEST ")])]))])):e.attendance.check_out=="0"?(n(),d("div",pe,[t("div",ue,[xe,t("table",_e,[t("tbody",null,[t("tr",ye,[me,t("td",we,s(b(e.course.start_time)),1)]),t("tr",ke,[fe,t("td",ve,s(l(e.course.start_time)),1)]),t("tr",Te,[Ee,t("td",Se,s(l(e.course.end_time)),1)]),t("tr",Ne,[Ce,t("td",Ie,s(e.attendance.check_in==="0"?"Empty":e.attendance.check_in),1)]),t("tr",Ae,[De,t("td",Re,s(e.attendance.check_out==="0"?"Empty":e.attendance.check_out),1)])])])]),t("div",Oe,[t("button",{onClick:r[3]||(r[3]=o=>p(e.course.id,"out")),type:"button",class:"bg-green-600 text-center hover:bg-green-500 rounded-lg text-white text-md block w-full py-2 font-bold"}," CHECK OUT ")])])):e.attendance.status=="1"?(n(),d("div",Le,Ue)):_("",!0)])]),_:1})],64))}};export{Me as default};
