import{T as v,j as _,Q as T,h as D,k as S,o as a,f as n,a as u,u as i,w as N,F as b,Z as A,b as e,l as E,v as I,m as R,p as B,q as C,t as l}from"./app-BqzU3v1C.js";import{_ as G}from"./AuthenticatedLayout-DYQjtwYe.js";import{_ as $}from"./TablePagination-DNgNRbv0.js";import"./toast-s2dejMsm.js";const L={class:"grid grid-cols-1 h-full"},j={class:"flex justify-between mb-4"},F={class:"w-full md:w-1/4"},H={class:"relative"},U=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-2 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-gray-500 dark:text-gray-400"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1),V={class:"grid grid-cols-3 gap-4"},M={class:"text-md font-bold text-black border-b-2 px-4 py-2"},P={class:"relative overflow-x-auto px-4 my-2"},Z={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse border-2 rounded-lg"},q={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},O=e("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," DATE ",-1),Q={class:"px-2 py-2 text-right"},Y={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},z=e("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," START TRAINING ",-1),J={class:"px-2 py-2 text-right"},K={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},W=e("th",{scope:"row",class:"px-2 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," END TRAINING ",-1),X={class:"px-2 py-2 text-right"},ee=["onClick"],te={key:1,class:"bg-purple-600 text-center hover:bg-purple-500 border-t-2 text-white text-md block w-full py-2 font-bold pointer-events-none"},re={key:2,class:"bg-red-600 text-center hover:bg-red-500 border-t-2 text-white text-md block w-full py-2 font-bold pointer-events-none"},ie={__name:"IndexTraining",props:["fetchData"],setup(p){const m=v({});let o=_(T().props.search),x=_(1),f=D(()=>{let r=new URL(route("trainings.index"));return r.searchParams.append("page",x.value),o.value&&r.searchParams.append("search",o.value),r});S(()=>f.value,r=>{C.visit(r,{preserveScroll:!0,preserveState:!0,replace:!0})});function w(r){const s={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("en-GB",s)}function g(r){const s=new Date(r),t=String(s.getHours()).padStart(2,"0"),h=String(s.getMinutes()).padStart(2,"0"),k=String(s.getSeconds()).padStart(2,"0");return`${t}:${h}:${k}`}const d=new Date;function c(r){return new Date(r)}const y=r=>{m.get(route("trainings.show",r.id))};return(r,s)=>(a(),n(b,null,[u(i(A),{title:"Trainings"}),u(G,null,{default:N(()=>[e("div",L,[e("div",j,[e("div",F,[e("div",H,[U,E(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>R(o)?o.value=t:o=t),type:"text",id:"input-group-1",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-7 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search"},null,512),[[I,i(o)]])])])])]),e("div",V,[(a(!0),n(b,null,B(p.fetchData.data,t=>(a(),n("div",{key:t.id,class:"border-gray-200 border-2"},[e("h5",M,l(t.course_id.course_name),1),e("div",P,[e("table",Z,[e("tbody",null,[e("tr",q,[O,e("td",Q,l(w(t.course_id.start_time)),1)]),e("tr",Y,[z,e("td",J,l(g(t.course_id.start_time)),1)]),e("tr",K,[W,e("td",X,l(g(t.course_id.end_time)),1)])])])]),e("div",null,[i(d)>=c(t.course_id.start_time)&&i(d)<=c(t.course_id.end_time)?(a(),n("button",{key:0,onClick:h=>y(t),type:"button",class:"bg-green-600 text-center hover:bg-green-500 border-t-2 text-white text-md block w-full py-2 font-bold"}," SELECT ",8,ee)):i(d)<=c(t.course_id.start_time)&&i(d)<=c(t.course_id.end_time)?(a(),n("button",te," TRAINING HAS NOT STARTED YET ")):(a(),n("button",re," TRAINING HAS ENDED "))])]))),128))]),e("div",null,[u($,{pagination:p.fetchData.meta},null,8,["pagination"])])]),_:1})],64))}};export{ie as default};
